-- Syntax for this file here:
-- https://github.com/yesodweb/persistent/blob/master/docs/Persistent-entity-syntax.md

LnChannel
  fundingTxId (TxId 'Funding)
  fundingVout (Vout 'Funding)
  closingTxId (TxId 'Closing) Maybe
  status LnChannelStatus
  localBalance MSat Maybe
  remoteBalance MSat Maybe
  UniqueLnChannel fundingTxId fundingVout
  nodeKey Lnd.NodePubKey Maybe
  nodeLoc Lnd.NodeLocation Maybe
  deriving Eq Show Generic

User
  nodePubKey NodePubKey
  latestNonce Nonce
  insertedAt UTCTime
  updatedAt UTCTime
  deriving Eq Show Generic

SwapIntoLn
  userId UserId
  fund_invoice (LnInvoice 'Fund)
  fund_address (OnChainAddress 'Fund)
  refund_address (OnChainAddress 'Refund)
  status SwapStatus
  insertedAt UTCTime
  updatedAt UTCTime
  deriving Eq Show Generic
