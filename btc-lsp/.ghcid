--test=":main --fail-fast --color -f failed-examples"
--restart=cabal.project
--restart=package.yaml
--restart=config/model
--restart=nix/export-test-envs.sh
--restart=proto/
--command="((kill -0 `cat ./build/shell/bitcoind/regtest/bitcoind.pid` && kill -0 `cat ./build/shell/lnd-lsp/lnd.pid` && kill -0 `cat ./build/shell/lnd-alice/lnd.pid` && kill -0 `cat ./build/shell/lnd-bob/lnd.pid` && pg_ctl -D ./build/shell/postgres status) || ((./nix/ns-shutdown-test-deps.sh || true) && (setsid ./nix/ns-prepare.sh & wait))) && . ./nix/export-test-envs.sh && (./nix/ns-gen-proto.sh || true) && hpack && cabal new-repl test:btc-lsp-test --repl-options=-fobject-code --repl-options=-fno-break-on-exception --repl-options=-fno-break-on-error --repl-options=-v1 --repl-options=-ferror-spans --repl-options=-j"
